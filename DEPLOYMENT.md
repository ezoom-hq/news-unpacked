# デプロイと公開管理ガイド

このドキュメントでは、アプリケーションの更新方法と、公開停止（非公開化）の手順について説明します。

## 🔄 アプリ更新の手順（コード修正後）

コードを修正して、その変更を本番環境（GitHub Pages）に反映させる手順です。

1. **変更をGitに記録する**
   ```bash
   git add .
   git commit -m "変更内容のメモ（例: デザイン修正）"
   ```

2. **デプロイを実行する**
   ```bash
   npm run deploy
   ```
   - このコマンド一つで、自動的にビルドが行われ、最新版がGitHubにアップロードされます。
   - 数分待つと、Webサイトに変更が反映されます。

---

## 🔒 公開を停止したい場合（非公開にする）

### Webサイト自体を消す方法
GitHub Pagesでの公開を停止するには、以下の方法が最も簡単です。

1. **GitHubのリポジトリページ**を開く。
2. **Settings (設定)** タブをクリック。
3. 左メニューの **Pages** をクリック。
4. **Build and deployment** セクションの **Source** を `Deploy from a branch` から **None** に変更するか、あるいは `gh-pages` ブランチを削除します。
   - 手っ取り早く行うなら、ターミナルで以下を実行して公開用ブランチを削除してしまう方法もあります：
     ```bash
     git push origin --delete gh-pages
     ```

### Firebase (データベース) のアクセスを制限する
Webサイトが消えても、Firebaseの設定は残っています。完全に停止したい、あるいはアクセスを制限したい場合は以下を行います。

#### アプリケーションを一時的に無効化する
Firebase Consoleで該当プロジェクトを削除するか、APIキーの制限を行うことで停止できます。

#### セキュリティを強化する (推奨)
現在、データベースは「誰でも読み書き可能」な状態です。公開中はセキュリティルールを厳しくすることをお勧めします。

`firestore.rules` ファイルを編集してデプロイすることで、不正なアクセスを防げます。
（詳細なルール設定については、アシスタントにご相談ください）
